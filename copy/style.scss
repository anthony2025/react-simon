/* This code relies too heavily on Sass
  TODO: get a compilator in place */

@import url(https://fonts.googleapis.com/css?family=Alfa+Slab+One);
@import url(https://fonts.googleapis.com/css?family=VT323);
@import url(https://fonts.googleapis.com/css?family=Oswald);

$bg-color: #222;
$border-color: #333;
$light-color: #ECE7EE;
$screen-color: #32050C;
$green: #00A74A;
$red: #9F0F17;
$blue: #094A8F;
$yellow: #CCA707;

$circle-size: 75vmin;
$border-width: 2vmin;

$trapezoid-colors:
  $green, $red, $blue, $yellow;
$trapezoid-coors:
  '0, 0', '100%, 0', '100%, 100%', '0, 100%';
$trapezoid-borders:
  '0 #{$border-width $border-width} 0',
  '0 0 #{$border-width} #{$border-width}',
  '#{$border-width} 0 0 #{$border-width}',
  '#{$border-width} #{$border-width} 0 0';

body {
  background: url(http://www.designbolts.com/wp-content/uploads/2013/02/Free-Seamless-Wood-Textures-Patterns-For-3D-Mapping-2.jpg) $bg-color;
  background-size: repeat;
  color: $bg-color;
}

button { // fix for the annoying tap shadow on mobiles
  -webkit-tap-highlight-color: rgba(0,0,0,0);
  -webkit-tap-highlight-color: transparent;
}

.circle {
  height: $circle-size;
  width: $circle-size;
  background: $border-color;
  position: relative;
  border-radius: 50%;
  margin: $border-width*4 auto 0 auto;
  border: $border-width*2 solid $border-color;
  overflow: hidden;
  box-shadow: 0 0 40px $bg-color;
}

@for $i from 1 through 4 {
  .trapezoid:nth-child(#{$i}) {
    height: 50%;
    width: 50%;
    position: absolute;
    $background: nth($trapezoid-colors, $i);
    background: $background;
    transform: translate(#{nth($trapezoid-coors, $i)});
    border-style: solid;
    border-color: $border-color;
    border-width: #{nth($trapezoid-borders, $i)};
    z-index: 0;
    background-clip: padding-box;
    outline: none;
    &:active {
      background: lighten($background, 25%);
    }
  }
}

.center {
  height: $circle-size / 2;
  width: $circle-size / 2;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: $light-color;
  border: $border-width solid $border-color;
  border-radius: 50%;
  z-index: 1;
}

.title {
  position: absolute;
  top: 20%;
  left: 12%;
  font-size: 8vmin;
  font-family: Alfa Slab One, Times New Roman, serif;
  sup {
    font-size: 2.5vmin;
    position: absolute;
    top: 35%;
  }
}

.tag {
  font-family: Oswald, Arial, sans-serif;
  font-size: 2vmin;
}

.count {
  position: absolute;
  height: 5.5vmin;
  width: 9vmin;
  background: $screen-color;
  top: 52%;
  left: 10%;
  border: $border-width/4 solid $border-color;
  border-radius: 25%;
  padding: 1vmin;
  .screen {
    font-family: VT323, monospace;
    font-size: 5vmin;
    color: $red;
    position: absolute;
    top: -50%;
    left: 30%;
  }
  .tag {
    position: absolute;
    top: 85%;
    left: 25%;
  }
}

.start,
.strict {
  position: absolute;
  top: 58%;
  height: 5vmin;
  width: 5vmin;
  border: .8vmin solid $border-color;
  border-radius: 50%;
  outline: none;
  box-shadow: 0 2px 6px $bg-color;
  &:active {
    box-shadow: none;
  }
}

.start {
  left: 49%;
  background: $red;
  .tag {
    position: absolute;
    top: 108%;
    left: -22%
  }
}

.strict {
  left: 72%;
  background: $yellow;
  appearance: button;
  &:checked ~ .strict-light {
    background: lighten($red, 20%);
  }
}

.strict-light {
  position: absolute;
  top: 51%;
  left: 76%;
  height: 1vmin;
  width: 1vmin;
  border: .5vmin solid $border-color;
  background: $border-color;
  border-radius: 50%;
}

.strict-tag {
  position: absolute;
  top: 70%;
  left: 71%;
}
